---
title: Python Regex for Detecting PAM sequences
author: Emily
date: '2020-11-10'
slug: set-up
categories: []
tags: []
description: ''
---

Regex is a python function that allows users to search for anything within a string. For example, I have taken the coding sequence for a transcription factor called "WRKY41", a protein responsible for regulating the transcription of an ABA target gene (i.e abi3) in Arabidopsis plants. My lab wanted to contruct a CRISPR based plasmid to knockout this gene in plants. To do so, we needed to find the PAM sequence NGG (where N is any nucleotide) and return the 19 nucleotides in front of it. 

```{r}
library(reticulate)

```


```{python}

import re 

cds= "ATGGAAATGATGAATTGGGAGCGGAGGAGTTTGCTAAACGAGCTAATTCATGGACTAAAAGCGGCCAAGCAGCTTCAGGGTTCGTCTTCTCCATCGTTGTCAGCTTCTTCTTCATATTTGACGACGGAGATAAAGGAGAATCTCTTACATAACATAGTTTCTTCCTTCAAAAAAGCTATTTTGATGCTCAACGGATCCACCACACAACACAATCCAACGATAGAGCTTGCGCCTGATCCCCTAGCTCATCCCGGAAAGGTTCCAGGATCTCCAGCATCGATCACCGGAAATCCGAGAAGCGAAGAGTTTTTCAATGTAAGATCGAAAGAATTCAACTTAAGTTCTAAAAAGAGGAAGATGTTGCCAAAGTGGACAGAGCAAGTGAGAATTAGCCCAGAGAGAGGCTTAGAAGGACCTCATGACGATATCTTCAGCTGGAGAAAATATGGCCAGAAAGACATTTTGGGCGCCAAATTCCCAAGGAGTTATTACAGATGCACATTTCGTAACACACAGTACTGTTGGGCTACGAAACAAGTCCAAAGATCGGACGGTGATCCAACGATCTTCGAAGTAACATACAGAGGAACACACACTTGTTCACAGGGGATCCCACTTCCAGAGAAACGAGAAACCAAACCAAAACACACAGTAGCAGTAAATTACCAGAATCTCAGGGCCAGTCTTACCGTACGTACCGGCGGACTTGGAAGCGAAGCTTTCTCATTCCCCGTCACGTCGCCGTTATACACTTACGAGTCCATCAACGGTGGTGGAACGTTTTACCACCACGTGGGAAGTTCTGGTCCGTCGGATTTCACTGGATTGATCTCAACAAATACTTCCACAGGAAGTTCTCCAATCTTCGACGTTAATTTTCAATTTGATCCAACGGCTGAGATTAACACAGGCTTCCCCACTTTTTTCCACAATTCGATTTAA"

oligos = re.findall(r"\w{19}.GG", cds)
print(oligos)




```
<br>
Now we have found the several potential oligo sequences to insert into our plasmid! Let's create a class that contains functions to help create the reverse oligo!
<br>
```{python}
class Oligo_Reverse:
    
    def __init__(self, sq):
        self.sq= sq
        
    
    #first, reverse sequence
    def my_reverse(sq): 
        st = "" 
        for x in sq: 
            st = x + st
        return st

    #Then generate the complementary sequence
    def reverse_oligo(st):
        reverse_sq=""
        for bp in st:
            if bp == "A":
              reverse_sq + "T"
            elif bp == "G":
              reverse_sq + "C"
            elif bp =="T":
              reverse_sq + "A"
            elif bp =="C":
              reverse_sq + "G"
        return reverse_sq
    
    def __str__(self):
        return  "forward oligo sequence is", (self.sq) +\
                "reverse oligo sequence is", reverse_sq


#now let's use our function!
    
oligo1= Oligo_Reverse("GGAAATGATGAATTGGGAG") 
print(oligo1)
    
seq="GGAAATGATGAATTGGGAG"
reverse_oligo(sq)
  
````

