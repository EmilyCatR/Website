---
title: Python Regex for Detecting PAM sequences
author: Emily
date: '2020-12-02'
slug: set-up
categories: []
tags: []
description: ''
---

<link href="index_files/anchor-sections/anchor-sections.css" rel="stylesheet" />
<script src="index_files/anchor-sections/anchor-sections.js"></script>


<center>
<div class="figure">
<img src="https://www.google.com/imgres?imgurl=https%3A%2F%2Fwww.genengnews.com%2Fwp-content%2Fuploads%2F2019%2F03%2FMar1_2019_Getty_1128491841_CRISPR-CAS9_1400.jpg&amp;imgrefurl=https%3A%2F%2Fwww.genengnews.com%2Finsights%2Ffor-confidence-in-crispr-outcomes-results-must-be-fully-validated%2F&amp;tbnid=RlZN3wgBYfdjfM&amp;vet=12ahUKEwjFi-mVhcDtAhXFVawKHbcTBB4QMygLegUIARDnAQ..i&amp;docid=HEHeVLcAjST5MM&amp;w=1400&amp;h=789&amp;q=crispr&amp;ved=2ahUKEwjFi-mVhcDtAhXFVawKHbcTBB4QMygLegUIARDnAQ" />

</div>
</center>
<p><br></p>
<p>Regex is a python function that allows users to search for anything within a string. For example, I have taken the coding sequence for a transcription factor called &quot;WRKY41&quot;, a protein responsible for regulating the transcription of an ABA target gene (i.e abi3) in Arabidopsis plants. My lab wanted to contruct a CRISPR based plasmid to knockout this gene in plants. To do so, we needed to find the PAM sequence NGG (where N is any nucleotide) and return the 19 nucleotides in front of it.</p>
<p><br></p>
<pre class="r"><code>library(reticulate)</code></pre>
<pre class="python"><code>import re

#our WRKY41 transcription factor DNA coding sequence
cds= &quot;ATGGAAATGATGAATTGGGAGCGGAGGAGTTTGCTAAACGAGCTAATTCATGGACTAAAAGCGGCCAAGCAGCTTCAGGGTTCGTCTTCTCCATCGTTGTCAGCTTCTTCTTCATATTTGACGACGGAGATAAAGGAGAATCTCTTACATAACATAGTTTCTTCCTTCAAAAAAGCTATTTTGATGCTCAACGGATCCACCACACAACACAATCCAACGATAGAGCTTGCGCCTGATCCCCTAGCTCATCCCGGAAAGGTTCCAGGATCTCCAGCATCGATCACCGGAAATCCGAGAAGCGAAGAGTTTTTCAATGTAAGATCGAAAGAATTCAACTTAAGTTCTAAAAAGAGGAAGATGTTGCCAAAGTGGACAGAGCAAGTGAGAATTAGCCCAGAGAGAGGCTTAGAAGGACCTCATGACGATATCTTCAGCTGGAGAAAATATGGCCAGAAAGACATTTTGGGCGCCAAATTCCCAAGGAGTTATTACAGATGCACATTTCGTAACACACAGTACTGTTGGGCTACGAAACAAGTCCAAAGATCGGACGGTGATCCAACGATCTTCGAAGTAACATACAGAGGAACACACACTTGTTCACAGGGGATCCCACTTCCAGAGAAACGAGAAACCAAACCAAAACACACAGTAGCAGTAAATTACCAGAATCTCAGGGCCAGTCTTACCGTACGTACCGGCGGACTTGGAAGCGAAGCTTTCTCATTCCCCGTCACGTCGCCGTTATACACTTACGAGTCCATCAACGGTGGTGGAACGTTTTACCACCACGTGGGAAGTTCTGGTCCGTCGGATTTCACTGGATTGATCTCAACAAATACTTCCACAGGAAGTTCTCCAATCTTCGACGTTAATTTTCAATTTGATCCAACGGCTGAGATTAACACAGGCTTCCCCACTTTTTTCCACAATTCGATTTAA&quot;

#using regex to find all instances of 19 nucleotides that come before our PAM sequence, NGG
oligos = re.findall(r&quot;\w{19}.GG&quot;, cds)

#all possible oligos we could use
print(oligos)</code></pre>
<pre><code>## [&#39;GGAAATGATGAATTGGGAGCGG&#39;, &#39;TGCTAAACGAGCTAATTCATGG&#39;, &#39;AAAGCGGCCAAGCAGCTTCAGG&#39;, &#39;TCTTCTTCATATTTGACGACGG&#39;, &#39;AAGCTATTTTGATGCTCAACGG&#39;, &#39;CTGATCCCCTAGCTCATCCCGG&#39;, &#39;GATCTCCAGCATCGATCACCGG&#39;, &#39;CAACTTAAGTTCTAAAAAGAGG&#39;, &#39;TGAGAATTAGCCCAGAGAGAGG&#39;, &#39;TCATGACGATATCTTCAGCTGG&#39;, &#39;TATGGCCAGAAAGACATTTTGG&#39;, &#39;TCGTAACACACAGTACTGTTGG&#39;, &#39;ACGAAACAAGTCCAAAGATCGG&#39;, &#39;TCTTCGAAGTAACATACAGAGG&#39;, &#39;AACACACACTTGTTCACAGGGG&#39;, &#39;AGTAAATTACCAGAATCTCAGG&#39;, &#39;CCAGTCTTACCGTACGTACCGG&#39;, &#39;ACACTTACGAGTCCATCAACGG&#39;, &#39;GGAACGTTTTACCACCACGTGG&#39;, &#39;CTGGTCCGTCGGATTTCACTGG&#39;, &#39;TCTCAACAAATACTTCCACAGG&#39;, &#39;AATTTTCAATTTGATCCAACGG&#39;]</code></pre>
<p><br></p>
<p>Now we have found the several potential oligo sequences to insert into our plasmid! Let's create some functions to help create the reverse oligo!</p>
<p><br></p>
<pre class="python"><code>#choosing the first 19 nucleotides from the code chunk above
oligo1= &quot;GGAAATGATGAATTGGGAG&quot;

#must reverse the sequence first
def my_reverse(sq): 
  str = &quot;&quot; 
  for i in sq: 
    str = i + str
  return str

sq=(my_reverse(oligo1))

#Then generate the complementary sequence to the reversed sequence
def reverse_oligo(sq):
  reverse_sq = &quot;&quot;
  for bp in sq:
    if bp == &quot;A&quot;:
      reverse_sq += &quot;T&quot;
    elif bp == &quot;G&quot;:
      reverse_sq += &quot;C&quot;
    elif bp ==&quot;T&quot;:
      reverse_sq += &quot;A&quot;
    elif bp ==&quot;C&quot;:
      reverse_sq += &quot;G&quot;
  return reverse_sq
  
rsq=(reverse_oligo(sq))

#our F and R oligos:
print(&quot;forward sequence is: &quot;+ oligo1)</code></pre>
<pre><code>## forward sequence is: GGAAATGATGAATTGGGAG</code></pre>
<pre class="python"><code>print(&quot;reverse sequence is: &quot; + rsq)
</code></pre>
<pre><code>## reverse sequence is: CTCCCAATTCATCATTTCC</code></pre>
<p>Now we have generated sequences both in forward and reverse directions to insert into our CRISPR plasmid. Hooray!</p>
